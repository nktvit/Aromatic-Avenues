import{g as l,u as d}from"./bootstrap.esm-yGNsrkS6.js";document.addEventListener("DOMContentLoaded",function(){document.getElementById("loginForm").addEventListener("submit",u),document.getElementById("registrationForm").addEventListener("submit",i),document.getElementById("newPassword").addEventListener("input",m)});function u(e){e.preventDefault();const t=document.getElementById("inputEmail").value,n=document.getElementById("inputPassword").value;let s=l(t,n);s?(s.isLoggedIn=!0,d(s),sessionStorage.setItem("loggedInUser",JSON.stringify(s)),console.log("Login successful!"),window.location.href="./"):console.log("Login failed: User not found.")}document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("registrationForm");e&&e.addEventListener("submit",i)});function i(e){e.preventDefault();const t=document.getElementById("inputName").value,n=document.getElementById("newEmail").value,s=document.getElementById("newPassword").value;if(!c(t,n,s)){console.log("Validation failed.");return}const o=g(t,n,s);sessionStorage.setItem("loggedInUser",JSON.stringify(o)),console.log("Registration and login successful!"),window.location.href="./"}function c(e,t,n){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?n.length<8||!/[A-Z]/.test(n)||!/[a-z]/.test(n)||!/\d/.test(n)?(alert("Password must be at least 8 characters including 1 uppercase letter, 1 lowercase letter, and 1 number."),!1):e.length===0?(alert("Please enter your full name."),!1):!0:(alert("Please enter a valid email address."),!1)}function g(e,t,n){const s={id:Date.now(),fullname:e,email:t,password:n,isLoggedIn:!0};let o=JSON.parse(localStorage.getItem("users"))||[];return o.push(s),localStorage.setItem("users",JSON.stringify(o)),s}function m(e){const t=e.target.value,n=document.getElementById("length"),s=document.getElementById("uppercase"),o=document.getElementById("lowercase"),r=document.getElementById("number");document.getElementById("passwordCriteria").style.visibility=t.length>0?"visible":"hidden",a(n,t.length>=8),a(s,/[A-Z]/.test(t)),a(o,/[a-z]/.test(t)),a(r,/\d/.test(t))}function a(e,t){t?(e.classList.remove("invalid"),e.classList.add("valid"),e.innerHTML='<i class="bi bi-check-lg"></i> '+e.dataset.criteria):(e.classList.remove("valid"),e.classList.add("invalid"),e.innerHTML='<i class="bi bi-x-lg"></i> '+e.dataset.criteria)}
